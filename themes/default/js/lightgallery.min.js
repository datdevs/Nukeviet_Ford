!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Lightgallery=e()}(function(){return function s(r,n,a){function u(t,e){if(!n[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var i=n[t]={exports:{}};r[t][0].call(i.exports,function(e){return u(r[t][1][e]||e)},i,i.exports,s,r,n,a)}return n[t].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,o){var l,i,s;l=this,i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={getAttribute:function(e,t){return e[t]},setAttribute:function(e,t,o){e[t]=o},wrap:function(e,t){var o;e&&((o=document.createElement("div")).className=t,e.parentNode.insertBefore(o,e),e.parentNode.removeChild(e),o.appendChild(e))},addClass:function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass:function(e,t){e&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},setVendor:function(e,t,o){e&&(e.style[t.charAt(0).toLowerCase()+t.slice(1)]=o,e.style["webkit"+t]=o,e.style["moz"+t]=o,e.style["ms"+t]=o,e.style["o"+t]=o)},trigger:function(e,t,o){var l;e&&(l=new CustomEvent(t,{detail:2<arguments.length&&void 0!==o?o:null}),e.dispatchEvent(l))},Listener:{uid:0},on:function(o,e,l){var i=this;o&&e.split(" ").forEach(function(e){var t=i.getAttribute(o,"lg-event-uid")||"";r.Listener.uid++,t+="&"+r.Listener.uid,i.setAttribute(o,"lg-event-uid",t),r.Listener[e+r.Listener.uid]=l,o.addEventListener(e.split(".")[0],l,!1)})},off:function(e,t){if(e){var o=this.getAttribute(e,"lg-event-uid");if(o){o=o.split("&");for(var l=0;l<o.length;l++)if(o[l]){var i=t+o[l];if("."===i.substring(0,1))for(var s in r.Listener)r.Listener.hasOwnProperty(s)&&-1<s.split(".").indexOf(i.split(".")[1])&&(e.removeEventListener(s.split(".")[0],r.Listener[s]),this.setAttribute(e,"lg-event-uid",this.getAttribute(e,"lg-event-uid").replace("&"+o[l],"")),delete r.Listener[s]);else e.removeEventListener(i.split(".")[0],r.Listener[i]),this.setAttribute(e,"lg-event-uid",this.getAttribute(e,"lg-event-uid").replace("&"+o[l],"")),delete r.Listener[i]}}}},param:function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}};e.default=r},void 0!==o?i(o):(i(s={}),l.lgUtils=s)},{}],2:[function(e,t,o){var l,i;l=this,i=function(e){"use strict";function l(e,t){if(this.el=e,this.s=o({},s,t),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.items=[],this.s.dynamic?this.items=this.s.dynamicEl:"this"===this.s.selector?this.items.push(this.el):""!==this.s.selector?this.s.selectWithin?this.items=document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector):this.items=this.el.querySelectorAll(this.s.selector):this.items=this.el.children,this.___slide="",this.outer="",this.init(),this}var t,b=(t=e)&&t.__esModule?t:{default:t},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e};function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}"function"!=typeof window.CustomEvent&&(i.prototype=window.Event.prototype,window.CustomEvent=i),window.utils=b.default,window.lgData={uid:0};var s={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!(window.lgModules={}),ariaLabelledby:"",ariaDescribedby:"",closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1,supportLegacyBrowser:!0};l.prototype.init=function(){var o=this;o.s.preload>o.items.length&&(o.s.preload=o.items.length);var e=window.location.hash;if(0<e.indexOf("lg="+this.s.galleryId)&&(o.index=parseInt(e.split("&slide=")[1],10),b.default.addClass(document.body,"lg-from-hash"),b.default.hasClass(document.body,"lg-on")||(b.default.addClass(document.body,"lg-on"),setTimeout(function(){o.build(o.index)}))),o.s.dynamic)b.default.trigger(this.el,"onBeforeOpen"),o.index=o.s.index||0,b.default.hasClass(document.body,"lg-on")||(b.default.addClass(document.body,"lg-on"),setTimeout(function(){o.build(o.index)}));else for(var t=0;t<o.items.length;t++)!function(t){b.default.on(o.items[t],"click.lgcustom",function(e){e.preventDefault(),b.default.trigger(o.el,"onBeforeOpen"),o.index=o.s.index||t,b.default.hasClass(document.body,"lg-on")||(o.build(o.index),b.default.addClass(document.body,"lg-on"))})}(t)},l.prototype.build=function(e){var t,o=this;for(var l in o.structure(),window.lgModules)o.modules[l]=new window.lgModules[l](o.el);o.slide(e,!1,!1),o.s.keyPress&&o.keyPress(),1<o.items.length&&(o.arrow(),setTimeout(function(){o.enableDrag(),o.enableSwipe()},50),o.s.mousewheel&&o.mousewheel()),o.counter(),o.closeGallery(),b.default.trigger(o.el,"onAfterOpen"),0<o.s.hideBarsDelay&&(t=setTimeout(function(){b.default.addClass(o.outer,"lg-hide-items")},o.s.hideBarsDelay),b.default.on(o.outer,"mousemove.lg click.lg touchstart.lg",function(){clearTimeout(t),b.default.removeClass(o.outer,"lg-hide-items"),clearTimeout(o.hideBartimeout),o.hideBartimeout=setTimeout(function(){b.default.addClass(o.outer,"lg-hide-items")},o.s.hideBarsDelay)}))},l.prototype.structure=function(){var e,t,o="",l="",i=0,s="",r=this;for(document.body.insertAdjacentHTML("beforeend",'<div class="lg-backdrop"></div>'),b.default.setVendor(document.querySelector(".lg-backdrop"),"TransitionDuration",this.s.backdropDuration+"ms"),i=0;i<this.items.length;i++)o+='<div class="lg-item"></div>';this.s.controls&&1<this.items.length&&(l='<div class="lg-actions"><button type="button" aria-label="Previous slide" class="lg-prev lg-icon">'+this.s.prevHtml+'</button><button type="button" aria-label="Next slide" class="lg-next lg-icon">'+this.s.nextHtml+"</button></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(s='<div role="status" aria-live="polite" class="lg-sub-html"></div>'),e='<div tabindex="-1" aria-modal="true" '+(this.s.ariaLabelledby?'aria-labelledby="'+this.s.ariaLabelledby+'"':"")+" "+(this.s.ariaDescribedby?'aria-describedby="'+this.s.ariaDescribedby+'"':"")+' role="dialog" class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+o+'</div><div class="lg-toolbar lg-group"><button type="button" aria-label="Close gallery" class="lg-close lg-icon"></button></div>'+l+s+"</div></div>",document.body.insertAdjacentHTML("beforeend",e),this.outer=document.querySelector(".lg-outer"),this.outer.focus(),this.___slide=this.outer.querySelectorAll(".lg-item"),this.s.useLeft?(b.default.addClass(this.outer,"lg-use-left"),this.s.mode="lg-slide"):b.default.addClass(this.outer,"lg-use-css3"),r.setTop(),b.default.on(window,"resize.lg orientationchange.lg",function(){setTimeout(function(){r.setTop()},100)}),b.default.addClass(this.___slide[this.index],"lg-current"),this.doCss()?b.default.addClass(this.outer,"lg-css3"):(b.default.addClass(this.outer,"lg-css"),this.s.speed=0),b.default.addClass(this.outer,this.s.mode),this.s.enableDrag&&1<this.items.length&&b.default.addClass(this.outer,"lg-grab"),this.s.showAfterLoad&&b.default.addClass(this.outer,"lg-show-after-load"),this.doCss()&&(t=this.outer.querySelector(".lg-inner"),b.default.setVendor(t,"TransitionTimingFunction",this.s.cssEasing),b.default.setVendor(t,"TransitionDuration",this.s.speed+"ms")),setTimeout(function(){b.default.addClass(document.querySelector(".lg-backdrop"),"in")}),setTimeout(function(){b.default.addClass(r.outer,"lg-visible")},this.s.backdropDuration),this.s.download&&this.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",'<a id="lg-download" aria-label="Download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=document.documentElement.scrollTop||document.body.scrollTop},l.prototype.setTop=function(){var e,t,o;"100%"!==this.s.height&&(t=((e=window.innerHeight)-parseInt(this.s.height,10))/2,o=this.outer.querySelector(".lg"),e>=parseInt(this.s.height,10)?o.style.top=t+"px":o.style.top="0px")},l.prototype.doCss=function(){return!!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,o=0,o=0;o<e.length;o++)if(e[o]in t.style)return 1}()},l.prototype.isVideo=function(e,t){var o=this.s.dynamic?this.s.dynamicEl[t].html:this.items[t].getAttribute("data-html");if(!e&&o)return{html5:!0};var l=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),i=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),s=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),r=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return l?{youtube:l}:i?{vimeo:i}:s?{dailymotion:s}:r?{vk:r}:void 0},l.prototype.counter=function(){this.s.counter&&this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML("beforeend",'<div id="lg-counter" role="status" aria-live="polite"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.items.length+"</span></div>")},l.prototype.addHtml=function(e){var t,o,l=null;this.s.dynamic?l=this.s.dynamicEl[e].subHtml:(l=(t=this.items[e]).getAttribute("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!l&&(l=t.getAttribute("title"))&&t.querySelector("img")&&(l=t.querySelector("img").getAttribute("alt"))),null!=l?"."!==(o=l.substring(0,1))&&"#"!==o||(l=this.s.subHtmlSelectorRelative&&!this.s.dynamic?t.querySelector(l).innerHTML:document.querySelector(l).innerHTML):l="",".lg-sub-html"===this.s.appendSubHtmlTo?this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML=l:this.___slide[e].insertAdjacentHTML("beforeend",l),null!=l&&(""===l?b.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html"):b.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html")),b.default.trigger(this.el,"onAfterAppendSubHtml",{index:e})},l.prototype.preload=function(e){for(var t=1,o=1,t=1;t<=this.s.preload&&!(t>=this.items.length-e);t++)this.loadContent(e+t,!1,0);for(o=1;o<=this.s.preload&&!(e-o<0);o++)this.loadContent(e-o,!1,0)},l.prototype.loadContent=function(t,e,o){function l(e){for(var t=[],o=[],l=0;l<e.length;l++){var i=e[l].split(" ");""===i[0]&&i.splice(0,1),o.push(i[0]),t.push(i[1])}for(var s=window.innerWidth,r=0;r<t.length;r++)if(parseInt(t[r],10)>s){n=o[r];break}}var i,n,s,r,a,u,d=this,c=!1,h=d.s.dynamic?(d.s.dynamicEl[t].poster&&(c=!0,s=d.s.dynamicEl[t].poster),a=d.s.dynamicEl[t].html,n=d.s.dynamicEl[t].src,u=d.s.dynamicEl[t].alt,d.s.dynamicEl[t].responsive&&l(d.s.dynamicEl[t].responsive.split(",")),r=d.s.dynamicEl[t].srcset,d.s.dynamicEl[t].sizes):(d.items[t].getAttribute("data-poster")&&(c=!0,s=d.items[t].getAttribute("data-poster")),a=d.items[t].getAttribute("data-html"),n=d.items[t].getAttribute("href")||d.items[t].getAttribute("data-src"),u=d.items[t].getAttribute("title"),d.items[t].querySelector("img")&&(u=u||d.items[t].querySelector("img").getAttribute("alt")),d.items[t].getAttribute("data-responsive")&&l(d.items[t].getAttribute("data-responsive").split(",")),r=d.items[t].getAttribute("data-srcset"),d.items[t].getAttribute("data-sizes")),g=!1;d.s.dynamic?d.s.dynamicEl[t].iframe&&(g=!0):"true"===d.items[t].getAttribute("data-iframe")&&(g=!0);var m,f=d.isVideo(n,t);if(!b.default.hasClass(d.___slide[t],"lg-loaded")){if(g?d.___slide[t].insertAdjacentHTML("afterbegin",'<div class="lg-video-cont" style="max-width:'+d.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+n+'"  allowfullscreen="true"></iframe></div></div>'):c?(m=f&&f.youtube?"lg-has-youtube":f&&f.vimeo?"lg-has-vimeo":"lg-has-html5",d.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-video-cont '+m+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+s+'" /></div></div>')):f?(d.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-video-cont "><div class="lg-video"></div></div>'),b.default.trigger(d.el,"hasVideo",{index:t,src:n,html:a})):(u=u?'alt="'+u+'"':"",d.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-img-wrap"><img class="lg-object lg-image" '+u+' src="'+n+'" /></div>')),b.default.trigger(d.el,"onAferAppendSlide",{index:t}),i=d.___slide[t].querySelector(".lg-object"),h&&i.setAttribute("sizes",h),r&&(i.setAttribute("srcset",r),this.s.supportLegacyBrowser))try{picturefill({elements:[i[0]]})}catch(t){console.warn("If you want srcset to be supported for older browsers, please include picturefil javascript library in your document.")}".lg-sub-html"!==this.s.appendSubHtmlTo&&d.addHtml(t),b.default.addClass(d.___slide[t],"lg-loaded")}b.default.on(d.___slide[t].querySelector(".lg-object"),"load.lg error.lg",function(){var e=0;o&&!b.default.hasClass(document.body,"lg-from-hash")&&(e=o),setTimeout(function(){b.default.addClass(d.___slide[t],"lg-complete"),b.default.trigger(d.el,"onSlideItemLoad",{index:t,delay:o||0})},e)}),f&&f.html5&&!c&&b.default.addClass(d.___slide[t],"lg-complete"),!0===e&&(b.default.hasClass(d.___slide[t],"lg-complete")?d.preload(t):b.default.on(d.___slide[t].querySelector(".lg-object"),"load.lg error.lg",function(){d.preload(t)}))},l.prototype.slide=function(e,t,o){for(var l=0,i=0;i<this.___slide.length;i++)if(b.default.hasClass(this.___slide[i],"lg-current")){l=i;break}var s=this;if(!s.lGalleryOn||l!==e){var r,n=this.___slide.length,a=s.lGalleryOn?this.s.speed:0,u=!1,d=!1;if(!s.lgBusy){if(this.s.download&&((r=s.s.dynamic?!1!==s.s.dynamicEl[e].downloadUrl&&(s.s.dynamicEl[e].downloadUrl||s.s.dynamicEl[e].src):"false"!==s.items[e].getAttribute("data-download-url")&&(s.items[e].getAttribute("data-download-url")||s.items[e].getAttribute("href")||s.items[e].getAttribute("data-src")))?(document.getElementById("lg-download").setAttribute("href",r),b.default.removeClass(s.outer,"lg-hide-download")):b.default.addClass(s.outer,"lg-hide-download")),b.default.trigger(s.el,"onBeforeSlide",{prevIndex:l,index:e,fromTouch:t,fromThumb:o}),s.lgBusy=!0,clearTimeout(s.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){s.addHtml(e)},a),this.arrowDisable(e),t){var c=e-1,h=e+1;(0===e&&l===n-1||e===n-1&&0===l)&&(h=0,c=n-1),b.default.removeClass(s.outer.querySelector(".lg-prev-slide"),"lg-prev-slide"),b.default.removeClass(s.outer.querySelector(".lg-current"),"lg-current"),b.default.removeClass(s.outer.querySelector(".lg-next-slide"),"lg-next-slide"),b.default.addClass(s.___slide[c],"lg-prev-slide"),b.default.addClass(s.___slide[h],"lg-next-slide"),b.default.addClass(s.___slide[e],"lg-current")}else{b.default.addClass(s.outer,"lg-no-trans");for(var g=0;g<this.___slide.length;g++)b.default.removeClass(this.___slide[g],"lg-prev-slide"),b.default.removeClass(this.___slide[g],"lg-next-slide");e<l?(d=!0,0!==e||l!==n-1||o||(u=!(d=!1))):l<e&&(u=!0,e!==n-1||0!==l||o||(u=!(d=!0))),d?(b.default.addClass(this.___slide[e],"lg-prev-slide"),b.default.addClass(this.___slide[l],"lg-next-slide")):u&&(b.default.addClass(this.___slide[e],"lg-next-slide"),b.default.addClass(this.___slide[l],"lg-prev-slide")),setTimeout(function(){b.default.removeClass(s.outer.querySelector(".lg-current"),"lg-current"),b.default.addClass(s.___slide[e],"lg-current"),b.default.removeClass(s.outer,"lg-no-trans")},50)}s.lGalleryOn?(setTimeout(function(){s.loadContent(e,!0,0)},this.s.speed+50),setTimeout(function(){s.lgBusy=!1,b.default.trigger(s.el,"onAfterSlide",{prevIndex:l,index:e,fromTouch:t,fromThumb:o})},this.s.speed)):(s.loadContent(e,!0,s.s.backdropDuration),s.lgBusy=!1,b.default.trigger(s.el,"onAfterSlide",{prevIndex:l,index:e,fromTouch:t,fromThumb:o})),s.lGalleryOn=!0,this.s.counter&&document.getElementById("lg-counter-current")&&(document.getElementById("lg-counter-current").innerHTML=e+1)}}},l.prototype.goToNextSlide=function(e){var t=this;t.lgBusy||(t.index+1<t.___slide.length?(t.index++,b.default.trigger(t.el,"onBeforeNextSlide",{index:t.index}),t.slide(t.index,e,!1)):t.s.loop?(t.index=0,b.default.trigger(t.el,"onBeforeNextSlide",{index:t.index}),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(b.default.addClass(t.outer,"lg-right-end"),setTimeout(function(){b.default.removeClass(t.outer,"lg-right-end")},400)))},l.prototype.goToPrevSlide=function(e){var t=this;t.lgBusy||(0<t.index?(t.index--,b.default.trigger(t.el,"onBeforePrevSlide",{index:t.index,fromTouch:e}),t.slide(t.index,e,!1)):t.s.loop?(t.index=t.items.length-1,b.default.trigger(t.el,"onBeforePrevSlide",{index:t.index,fromTouch:e}),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(b.default.addClass(t.outer,"lg-left-end"),setTimeout(function(){b.default.removeClass(t.outer,"lg-left-end")},400)))},l.prototype.keyPress=function(){var t=this;1<this.items.length&&b.default.on(window,"keyup.lg",function(e){1<t.items.length&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()))}),b.default.on(window,"keydown.lg",function(e){!0===t.s.escKey&&27===e.keyCode&&(e.preventDefault(),b.default.hasClass(t.outer,"lg-thumb-open")?b.default.removeClass(t.outer,"lg-thumb-open"):t.destroy())})},l.prototype.arrow=function(){var e=this;b.default.on(this.outer.querySelector(".lg-prev"),"click.lg",function(){e.goToPrevSlide()}),b.default.on(this.outer.querySelector(".lg-next"),"click.lg",function(){e.goToNextSlide()})},l.prototype.arrowDisable=function(e){var t,o;!this.s.loop&&this.s.hideControlOnEnd&&(t=this.outer.querySelector(".lg-next"),o=this.outer.querySelector(".lg-prev"),e+1<this.___slide.length?(t.removeAttribute("disabled"),b.default.removeClass(t,"disabled")):(t.setAttribute("disabled","disabled"),b.default.addClass(t,"disabled")),0<e?(o.removeAttribute("disabled"),b.default.removeClass(o,"disabled")):(o.setAttribute("disabled","disabled"),b.default.addClass(o,"disabled")))},l.prototype.setTranslate=function(e,t,o){this.s.useLeft?e.style.left=t:b.default.setVendor(e,"Transform","translate3d("+t+"px, "+o+"px, 0px)")},l.prototype.touchMove=function(e,t){var o=t-e;15<Math.abs(o)&&(b.default.addClass(this.outer,"lg-dragging"),this.setTranslate(this.___slide[this.index],o,0),this.setTranslate(document.querySelector(".lg-prev-slide"),-this.___slide[this.index].clientWidth+o,0),this.setTranslate(document.querySelector(".lg-next-slide"),this.___slide[this.index].clientWidth+o,0))},l.prototype.touchEnd=function(t){var o=this;"lg-slide"!==o.s.mode&&b.default.addClass(o.outer,"lg-slide");for(var e=0;e<this.___slide.length;e++)b.default.hasClass(this.___slide[e],"lg-current")||b.default.hasClass(this.___slide[e],"lg-prev-slide")||b.default.hasClass(this.___slide[e],"lg-next-slide")||(this.___slide[e].style.opacity="0");setTimeout(function(){b.default.removeClass(o.outer,"lg-dragging"),t<0&&Math.abs(t)>o.s.swipeThreshold?o.goToNextSlide(!0):0<t&&Math.abs(t)>o.s.swipeThreshold?o.goToPrevSlide(!0):Math.abs(t)<5&&b.default.trigger(o.el,"onSlideClick");for(var e=0;e<o.___slide.length;e++)o.___slide[e].removeAttribute("style")}),setTimeout(function(){b.default.hasClass(o.outer,"lg-dragging")||"lg-slide"===o.s.mode||b.default.removeClass(o.outer,"lg-slide")},o.s.speed+100)},l.prototype.enableSwipe=function(){var t=this,o=0,l=0,i=!1;if(t.s.enableSwipe&&t.isTouch&&t.doCss()){for(var e=0;e<t.___slide.length;e++)b.default.on(t.___slide[e],"touchstart.lg",function(e){b.default.hasClass(t.outer,"lg-zoomed")||t.lgBusy||(e.preventDefault(),t.manageSwipeClass(),o=e.targetTouches[0].pageX)});for(var s=0;s<t.___slide.length;s++)b.default.on(t.___slide[s],"touchmove.lg",function(e){b.default.hasClass(t.outer,"lg-zoomed")||(e.preventDefault(),l=e.targetTouches[0].pageX,t.touchMove(o,l),i=!0)});for(var r=0;r<t.___slide.length;r++)b.default.on(t.___slide[r],"touchend.lg",function(){b.default.hasClass(t.outer,"lg-zoomed")||(i?(i=!1,t.touchEnd(l-o)):b.default.trigger(t.el,"onSlideClick"))})}},l.prototype.enableDrag=function(){var t=this,o=0,l=0,i=!1,s=!1;if(t.s.enableDrag&&!t.isTouch&&t.doCss()){for(var e=0;e<t.___slide.length;e++)b.default.on(t.___slide[e],"mousedown.lg",function(e){b.default.hasClass(t.outer,"lg-zoomed")||(b.default.hasClass(e.target,"lg-object")||b.default.hasClass(e.target,"lg-video-play"))&&(e.preventDefault(),t.lgBusy||(t.manageSwipeClass(),o=e.pageX,i=!0,t.outer.scrollLeft+=1,--t.outer.scrollLeft,b.default.removeClass(t.outer,"lg-grab"),b.default.addClass(t.outer,"lg-grabbing"),b.default.trigger(t.el,"onDragstart")))});b.default.on(window,"mousemove.lg",function(e){i&&(s=!0,l=e.pageX,t.touchMove(o,l),b.default.trigger(t.el,"onDragmove"))}),b.default.on(window,"mouseup.lg",function(e){s?(s=!1,t.touchEnd(l-o),b.default.trigger(t.el,"onDragend")):(b.default.hasClass(e.target,"lg-object")||b.default.hasClass(e.target,"lg-video-play"))&&b.default.trigger(t.el,"onSlideClick"),i&&(i=!1,b.default.removeClass(t.outer,"lg-grabbing"),b.default.addClass(t.outer,"lg-grab"))})}},l.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1,o=this.___slide.length;this.s.loop&&(0===this.index?t=o-1:this.index===o-1&&(e=0));for(var l=0;l<this.___slide.length;l++)b.default.removeClass(this.___slide[l],"lg-next-slide"),b.default.removeClass(this.___slide[l],"lg-prev-slide");-1<t&&b.default.addClass(this.___slide[t],"lg-prev-slide"),b.default.addClass(this.___slide[e],"lg-next-slide")},l.prototype.mousewheel=function(){var t=this;b.default.on(t.outer,"mousewheel.lg",function(e){e.deltaY&&(0<e.deltaY?t.goToPrevSlide():t.goToNextSlide(),e.preventDefault())})},l.prototype.closeGallery=function(){var t=this,o=!1;b.default.on(this.outer.querySelector(".lg-close"),"click.lg",function(){t.destroy()}),t.s.closable&&(b.default.on(t.outer,"mousedown.lg",function(e){o=!!(b.default.hasClass(e.target,"lg-outer")||b.default.hasClass(e.target,"lg-item")||b.default.hasClass(e.target,"lg-img-wrap"))}),b.default.on(t.outer,"mouseup.lg",function(e){(b.default.hasClass(e.target,"lg-outer")||b.default.hasClass(e.target,"lg-item")||b.default.hasClass(e.target,"lg-img-wrap")&&o)&&(b.default.hasClass(t.outer,"lg-dragging")||t.destroy())}))},l.prototype.destroy=function(e){var t=this;if(e||b.default.trigger(t.el,"onBeforeClose"),document.body.scrollTop=t.prevScrollTop,document.documentElement.scrollTop=t.prevScrollTop,e){if(!t.s.dynamic)for(var o=0;o<this.items.length;o++)b.default.off(this.items[o],".lg"),b.default.off(this.items[o],".lgcustom");var l=t.el.getAttribute("lg-uid");delete window.lgData[l],t.el.removeAttribute("lg-uid")}for(var i in b.default.off(this.el,".lgtm"),window.lgModules)t.modules[i]&&t.modules[i].destroy(e);this.lGalleryOn=!1,clearTimeout(t.hideBartimeout),this.hideBartimeout=!1,b.default.off(window,".lg"),b.default.removeClass(document.body,"lg-on"),b.default.removeClass(document.body,"lg-from-hash"),t.outer&&b.default.removeClass(t.outer,"lg-visible"),b.default.removeClass(document.querySelector(".lg-backdrop"),"in"),setTimeout(function(){try{t.outer&&t.outer.parentNode.removeChild(t.outer),document.querySelector(".lg-backdrop")&&document.querySelector(".lg-backdrop").parentNode.removeChild(document.querySelector(".lg-backdrop")),e||b.default.trigger(t.el,"onCloseAfter"),t.el.focus()}catch(e){}},t.s.backdropDuration+50)},window.lightGallery=function(e,t){if(e)try{var o;e.getAttribute("lg-uid")?window.lgData[e.getAttribute("lg-uid")].init():(o="lg"+window.lgData.uid++,window.lgData[o]=new l(e,t),e.setAttribute("lg-uid",o))}catch(e){console.error("lightGallery has not initiated properly",e)}}},void 0!==o?i(e("./lg-utils")):(i(l.lgUtils),l.lightgallery={})},{"./lg-utils":1}]},{},[2])(2)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgFullscreen=e()}(function(){return function s(r,n,a){function u(t,e){if(!n[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var i=n[t]={exports:{}};r[t][0].call(i.exports,function(e){return u(r[t][1][e]||e)},i,i.exports,s,r,n,a)}return n[t].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,o){var l,i;l=this,i=function(){"use strict";function t(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=o({},l,this.core.s),this.init(),this}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},l={fullScreen:!0};e.prototype.init=function(){var e="";if(this.core.s.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;e='<button aria-label="Toggle fullscreen" class="lg-fullscreen lg-icon"></button>',this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",e),this.fullScreen()}},e.prototype.requestFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},e.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},e.prototype.fullScreen=function(){var e=this;utils.on(document,"fullscreenchange.lgfullscreen webkitfullscreenchange.lgfullscreen mozfullscreenchange.lgfullscreen MSFullscreenChange.lgfullscreen",function(){utils.hasClass(e.core.outer,"lg-fullscreen-on")?utils.removeClass(e.core.outer,"lg-fullscreen-on"):utils.addClass(e.core.outer,"lg-fullscreen-on")}),utils.on(this.core.outer.querySelector(".lg-fullscreen"),"click.lg",function(){t()?e.exitFullscreen():e.requestFullscreen()})},e.prototype.destroy=function(){t()&&this.exitFullscreen(),utils.off(document,".lgfullscreen")},window.lgModules.fullscreen=e},void 0!==o?i():(i(),l.lgFullscreen={})},{}]},{},[1])(1)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgThumbnail=e()}(function(){return function s(r,n,a){function u(t,e){if(!n[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var i=n[t]={exports:{}};r[t][0].call(i.exports,function(e){return u(r[t][1][e]||e)},i,i.exports,s,r,n,a)}return n[t].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,o){var l,i;l=this,i=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},o,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},o={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toggleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0};e.prototype.init=function(){var e=this;this.core.s.thumbnail&&1<this.core.items.length&&(this.core.s.showThumbByDefault&&setTimeout(function(){utils.addClass(e.core.outer,"lg-thumb-open")},700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggle(),this.thumbkeyPress())},e.prototype.build=function(){function e(e,t,o){var l,i=r.core.isVideo(e,o)||{},s="";i.youtube||i.vimeo||i.dailymotion?i.youtube?l=r.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+i.youtube[1]+"/"+r.core.s.youtubeThumbSize+".jpg":t:i.vimeo?r.core.s.loadVimeoThumbnail?(l="//i.vimeocdn.com/video/error_"+a+".jpg",s=i.vimeo[1]):l=t:i.dailymotion&&(l=r.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+i.dailymotion[1]:t):l=t,n+='<div data-vimeo-id="'+s+'" class="lg-thumb-item" style="width:'+r.core.s.thumbWidth+"px; margin-right: "+r.core.s.thumbMargin+'px"><img src="'+l+'" /></div>',s=""}var l,r=this,n="",a="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":a="640";break;case"thumbnail_medium":a="200x150";break;case"thumbnail_small":a="100x75"}if(utils.addClass(r.core.outer,"lg-has-thumb"),r.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>'),r.thumbOuter=r.core.outer.querySelector(".lg-thumb-outer"),r.thumbOuterWidth=r.thumbOuter.offsetWidth,r.core.s.animateThumb&&(r.core.outer.querySelector(".lg-thumb").style.width=r.thumbTotalWidth+"px",r.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(r.thumbOuter.style.height=r.core.s.thumbContHeight+"px"),r.core.s.dynamic)for(var t=0;t<r.core.s.dynamicEl.length;t++)e(r.core.s.dynamicEl[t].src,r.core.s.dynamicEl[t].thumb,t);else for(var o=0;o<r.core.items.length;o++)r.core.s.exThumbImage?e(r.core.items[o].getAttribute("href")||r.core.items[o].getAttribute("data-src"),r.core.items[o].getAttribute(r.core.s.exThumbImage),o):e(r.core.items[o].getAttribute("href")||r.core.items[o].getAttribute("data-src"),r.core.items[o].querySelector("img").getAttribute("src"),o);r.core.outer.querySelector(".lg-thumb").innerHTML=n,l=r.core.outer.querySelectorAll(".lg-thumb-item");for(var i=0;i<l.length;i++)!function(){var e,t=l[i],o=t.getAttribute("data-vimeo-id");o&&(window["lgJsonP"+r.el.getAttribute("lg-uid")+i]=function(e){t.querySelector("img").setAttribute("src",e[0][r.core.s.vimeoThumbSize])},(e=document.createElement("script")).className="lg-script",e.src="//www.vimeo.com/api/v2/video/"+o+".json?callback=lgJsonP"+r.el.getAttribute("lg-uid")+i,document.body.appendChild(e))}();utils.addClass(l[r.core.index],"active"),utils.on(r.core.el,"onBeforeSlide.lgtm",function(){for(var e=0;e<l.length;e++)utils.removeClass(l[e],"active");utils.addClass(l[r.core.index],"active")});for(var s=0;s<l.length;s++)!function(e){utils.on(l[e],"click.lg touchend.lg",function(){setTimeout(function(){(!r.thumbClickable||r.core.lgBusy)&&r.core.doCss()||(r.core.index=e,r.core.slide(r.core.index,!1,!0))},50)})}(s);utils.on(r.core.el,"onBeforeSlide.lgtm",function(){r.animateThumb(r.core.index)}),utils.on(window,"resize.lgthumb orientationchange.lgthumb",function(){setTimeout(function(){r.animateThumb(r.core.index),r.thumbOuterWidth=r.thumbOuter.offsetWidth},200)})},e.prototype.setTranslate=function(e){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+e+"px, 0px, 0px)")},e.prototype.animateThumb=function(e){var t,o=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){switch(this.core.s.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-t,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn&&(utils.hasClass(o,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms")),this.core.doCss()||(o.style.left=-this.left+"px"),this.setTranslate(this.left)}},e.prototype.enableThumbDrag=function(){var t=this,o=0,l=0,i=!1,s=!1,r=0;utils.addClass(t.thumbOuter,"lg-grab"),utils.on(t.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),o=e.pageX,i=!0,t.core.outer.scrollLeft+=1,--t.core.outer.scrollLeft,t.thumbClickable=!1,utils.removeClass(t.thumbOuter,"lg-grab"),utils.addClass(t.thumbOuter,"lg-grabbing"))}),utils.on(window,"mousemove.lgthumb",function(e){i&&(r=t.left,s=!0,l=e.pageX,utils.addClass(t.thumbOuter,"lg-dragging"),(r-=l-o)>t.thumbTotalWidth-t.thumbOuterWidth&&(r=t.thumbTotalWidth-t.thumbOuterWidth),r<0&&(r=0),t.setTranslate(r))}),utils.on(window,"mouseup.lgthumb",function(){s?(s=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),t.left=r,Math.abs(l-o)<t.core.s.swipeThreshold&&(t.thumbClickable=!0)):t.thumbClickable=!0,i&&(i=!1,utils.removeClass(t.thumbOuter,"lg-grabbing"),utils.addClass(t.thumbOuter,"lg-grab"))})},e.prototype.enableThumbSwipe=function(){var t=this,o=0,l=0,i=!1,s=0;utils.on(t.core.outer.querySelector(".lg-thumb"),"touchstart.lg",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),o=e.targetTouches[0].pageX,t.thumbClickable=!1)}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchmove.lg",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),l=e.targetTouches[0].pageX,i=!0,utils.addClass(t.thumbOuter,"lg-dragging"),s=t.left,(s-=l-o)>t.thumbTotalWidth-t.thumbOuterWidth&&(s=t.thumbTotalWidth-t.thumbOuterWidth),s<0&&(s=0),t.setTranslate(s))}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchend.lg",function(){t.thumbTotalWidth>t.thumbOuterWidth&&i?(i=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),Math.abs(l-o)<t.core.s.swipeThreshold&&(t.thumbClickable=!0),t.left=s):t.thumbClickable=!0})},e.prototype.toggle=function(){var e=this;e.core.s.toggleThumb&&(utils.addClass(e.core.outer,"lg-can-toggle"),e.thumbOuter.insertAdjacentHTML("beforeend",'<button aria-label="Toggle thumbnails" class="lg-toggle-thumb lg-icon"></button>'),utils.on(e.core.outer.querySelector(".lg-toggle-thumb"),"click.lg",function(){utils.hasClass(e.core.outer,"lg-thumb-open")?utils.removeClass(e.core.outer,"lg-thumb-open"):utils.addClass(e.core.outer,"lg-thumb-open")}))},e.prototype.thumbkeyPress=function(){var t=this;utils.on(window,"keydown.lgthumb",function(e){38===e.keyCode?(e.preventDefault(),utils.addClass(t.core.outer,"lg-thumb-open")):40===e.keyCode&&(e.preventDefault(),utils.removeClass(t.core.outer,"lg-thumb-open"))})},e.prototype.destroy=function(e){if(this.core.s.thumbnail&&1<this.core.items.length){utils.off(window,".lgthumb"),e||this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var t=document.getElementsByClassName("lg-script");t[0];)t[0].parentNode.removeChild(t[0])}},window.lgModules.thumbnail=e},void 0!==o?i():(i(),l.lgThumbnail={})},{}]},{},[1])(1)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgZoom=e()}(function(){return function s(r,n,a){function u(t,e){if(!n[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var i=n[t]={exports:{}};r[t][0].call(i.exports,function(e){return u(r[t][1][e]||e)},i,i.exports,s,r,n,a)}return n[t].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,o){var l,i;l=this,i=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=l({},i,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)),this}var t,o,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},i={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:(t=!1,(o=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(o[2],10)<54&&(t=!0),t)};e.prototype.init=function(){var r=this,e='<button type="button" aria-label="Zoom in" id="lg-zoom-in" class="lg-icon"></button><button type="button" aria-label="Zoom out" id="lg-zoom-out" class="lg-icon"></button>';r.core.s.actualSize&&(e+='<button type="button" aria-label="Actual size" id="lg-actual-size" class="lg-icon"></button>'),r.core.s.useLeftForZoom?utils.addClass(r.core.outer,"lg-use-left-for-zoom"):utils.addClass(r.core.outer,"lg-use-transition-for-zoom"),this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",e),utils.on(r.core.el,"onSlideItemLoad.lgtmzoom",function(e){var t=r.core.s.enableZoomAfter+e.detail.delay;utils.hasClass(document.body,"lg-from-hash")&&e.detail.delay?t=0:utils.removeClass(document.body,"lg-from-hash"),r.zoomabletimeout=setTimeout(function(){utils.addClass(r.core.___slide[e.detail.index],"lg-zoomable")},t+30)});function t(e){var t=r.core.outer.querySelector(".lg-current .lg-image"),o=(window.innerWidth-t.clientWidth)/2,l=(window.innerHeight-t.clientHeight)/2+(document.documentElement.scrollTop||document.body.scrollTop),i=(e-1)*(r.pageX-o),s=(e-1)*(r.pageY-l);utils.setVendor(t,"Transform","scale3d("+e+", "+e+", 1)"),t.setAttribute("data-scale",e),r.core.s.useLeftForZoom?(t.parentElement.style.left=-i+"px",t.parentElement.style.top=-s+"px"):utils.setVendor(t.parentElement,"Transform","translate3d(-"+i+"px, -"+s+"px, 0)"),t.parentElement.setAttribute("data-x",i),t.parentElement.setAttribute("data-y",s)}function n(){1<a?utils.addClass(r.core.outer,"lg-zoomed"):r.resetZoom(),a<1&&(a=1),t(a)}function l(e,t,o,l){var i=t.clientWidth,s=r.core.s.dynamic?r.core.s.dynamicEl[o].width||t.naturalWidth||i:r.core.items[o].getAttribute("data-width")||t.naturalWidth||i;utils.hasClass(r.core.outer,"lg-zoomed")?a=1:i<s&&(a=s/i||2),l?(r.pageX=window.innerWidth/2,r.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)):(r.pageX=e.pageX||e.targetTouches[0].pageX,r.pageY=e.pageY||e.targetTouches[0].pageY),n(),setTimeout(function(){utils.removeClass(r.core.outer,"lg-grabbing"),utils.addClass(r.core.outer,"lg-grab")},10)}var a=1,i=!1;utils.on(r.core.el,"onAferAppendSlide.lgtmzoom",function(e){var t=e.detail.index,o=r.core.___slide[t].querySelector(".lg-image");r.core.isTouch||utils.on(o,"dblclick",function(e){l(e,o,t)}),r.core.isTouch&&utils.on(o,"touchstart",function(e){i?(clearTimeout(i),i=null,l(e,o,t)):i=setTimeout(function(){i=null},300),e.preventDefault()})}),utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){r.pageX=window.innerWidth/2,r.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop),t(a)}),utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){r.core.outer.querySelector(".lg-current .lg-image")&&(a-=r.core.s.scale,n())}),utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){r.core.outer.querySelector(".lg-current .lg-image")&&(a+=r.core.s.scale,n())}),utils.on(document.getElementById("lg-actual-size"),"click.lg",function(e){l(e,r.core.___slide[r.core.index].querySelector(".lg-image"),r.core.index,!0)}),utils.on(r.core.el,"onBeforeSlide.lgtm",function(){a=1,r.resetZoom()}),r.core.isTouch||r.zoomDrag(),r.core.isTouch&&r.zoomSwipe()},e.prototype.getModifier=function(e,t,o){var l=e;e=Math.abs(e);var i=this.getCurrentTransform(o);if(!i)return 1;var s,r,n,a,u=1;return"X"===t?(s=Math.sign(parseFloat(i[0])),0===e||180===e?u=1:90===e&&(u=-90===l&&1===s||90===l&&-1===s?-1:1),u*=s):(r=Math.sign(parseFloat(i[3])),0===e||180===e?u=1:90===e&&(n=parseFloat(i[1]),a=parseFloat(i[2]),u=Math.sign(n*a*l*r)),u*=r),u},e.prototype.getImageSize=function(e,t,o){return 90===t&&(o="x"===o?"y":"x"),e[{y:"offsetHeight",x:"offsetWidth"}[o]]},e.prototype.getDragCords=function(e,t){return 90===t?{x:e.pageY,y:e.pageX}:{x:e.pageX,y:e.pageY}},e.prototype.getSwipeCords=function(e,t){var o=e.targetTouches[0].pageX,l=e.targetTouches[0].pageY;return 90===t?{x:l,y:o}:{x:o,y:l}},e.prototype.getPossibleDragCords=function(e,t){var o=(this.core.outer.querySelector(".lg").clientHeight-this.getImageSize(e,t,"y"))/2,l=Math.abs(this.getImageSize(e,t,"y")*Math.abs(e.getAttribute("data-scale"))-this.core.outer.querySelector(".lg").clientHeight+o),i=(this.core.outer.querySelector(".lg").clientWidth-this.getImageSize(e,t,"x"))/2,s=Math.abs(this.getImageSize(e,t,"x")*Math.abs(e.getAttribute("data-scale"))-this.core.outer.querySelector(".lg").clientWidth+i);return 90===t?{minY:i,maxY:s,minX:o,maxX:l}:{minY:o,maxY:l,minX:i,maxX:s}},e.prototype.getDragAllowedAxises=function(e,t){var o=this.getImageSize(e,t,"y")*e.getAttribute("data-scale")>this.core.outer.querySelector(".lg").clientHeight,l=this.getImageSize(e,t,"x")*e.getAttribute("data-scale")>this.core.outer.querySelector(".lg").clientWidth;return 90===t?{allowX:o,allowY:l}:{allowX:l,allowY:o}},e.prototype.getCurrentTransform=function(e){if(!e)return 0;var t=window.getComputedStyle(e,null),o=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")||"none";return"none"!==o?o.split("(")[1].split(")")[0].split(","):0},e.prototype.getCurrentRotation=function(e){if(!e)return 0;var t=this.getCurrentTransform(e);return t?Math.round(Math.atan2(t[1],t[0])*(180/Math.PI)):0},e.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var e=0;e<this.core.___slide.length;e++)this.core.___slide[e].querySelector(".lg-img-wrap")&&(this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("style"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-x"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-y"));for(var t=0;t<this.core.___slide.length;t++)this.core.___slide[t].querySelector(".lg-image")&&(this.core.___slide[t].querySelector(".lg-image").removeAttribute("style"),this.core.___slide[t].querySelector(".lg-image").removeAttribute("data-scale"));this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)},e.prototype.zoomSwipe=function(){for(var i,s=this,r={},n={},a=!1,u=!1,d=!1,c=0,e=0;e<s.core.___slide.length;e++)utils.on(s.core.___slide[e],"touchstart.lg",function(e){var t,o;utils.hasClass(s.core.outer,"lg-zoomed")&&(t=s.core.___slide[s.core.index].querySelector(".lg-object"),i=s.core.___slide[s.core.index].querySelector(".lg-img-rotate"),c=s.getCurrentRotation(i),o=s.getDragAllowedAxises(t,Math.abs(c)),d=o.allowY,((u=o.allowX)||d)&&(e.preventDefault(),r=s.getSwipeCords(e,Math.abs(c))))});for(var t=0;t<s.core.___slide.length;t++)utils.on(s.core.___slide[t],"touchmove.lg",function(e){var t,o,l;utils.hasClass(s.core.outer,"lg-zoomed")&&(t=s.core.___slide[s.core.index].querySelector(".lg-img-wrap"),e.preventDefault(),a=!0,n=s.getSwipeCords(e,Math.abs(c)),utils.addClass(s.core.outer,"lg-zoom-dragging"),l=d?-Math.abs(t.getAttribute("data-y"))+(n.y-r.y)*s.getModifier(c,"Y",i):-Math.abs(t.getAttribute("data-y")),o=u?-Math.abs(t.getAttribute("data-x"))+(n.x-r.x)*s.getModifier(c,"X",i):-Math.abs(t.getAttribute("data-x")),(15<Math.abs(n.x-r.x)||15<Math.abs(n.y-r.y))&&(s.core.s.useLeftForZoom?(t.style.left=o+"px",t.style.top=l+"px"):utils.setVendor(t,"Transform","translate3d("+o+"px, "+l+"px, 0)")))});for(var o=0;o<s.core.___slide.length;o++)utils.on(s.core.___slide[o],"touchend.lg",function(){utils.hasClass(s.core.outer,"lg-zoomed")&&a&&(a=!1,utils.removeClass(s.core.outer,"lg-zoom-dragging"),s.touchendZoom(r,n,u,d,c))})},e.prototype.zoomDrag=function(){for(var i,s=this,r={},n={},a=!1,u=!1,d=!1,c=!1,h=0,e=0;e<s.core.___slide.length;e++)utils.on(s.core.___slide[e],"mousedown.lgzoom",function(e){var t=s.core.___slide[s.core.index].querySelector(".lg-object");i=s.core.___slide[s.core.index].querySelector(".lg-img-rotate"),h=s.getCurrentRotation(i);var o=s.getDragAllowedAxises(t,Math.abs(h));c=o.allowY,d=o.allowX,utils.hasClass(s.core.outer,"lg-zoomed")&&utils.hasClass(e.target,"lg-object")&&(d||c)&&(e.preventDefault(),r=s.getDragCords(e,Math.abs(h)),a=!0,s.core.outer.scrollLeft+=1,--s.core.outer.scrollLeft,utils.removeClass(s.core.outer,"lg-grab"),utils.addClass(s.core.outer,"lg-grabbing"))});utils.on(window,"mousemove.lgzoom",function(e){var t,o,l;a&&(t=s.core.___slide[s.core.index].querySelector(".lg-img-wrap"),u=!0,n=s.getDragCords(e,Math.abs(h)),utils.addClass(s.core.outer,"lg-zoom-dragging"),l=c?-Math.abs(t.getAttribute("data-y"))+(n.y-r.y)*s.getModifier(h,"Y",i):-Math.abs(t.getAttribute("data-y")),o=d?-Math.abs(t.getAttribute("data-x"))+(n.x-r.x)*s.getModifier(h,"X",i):-Math.abs(t.getAttribute("data-x")),s.core.s.useLeftForZoom?(t.style.left=o+"px",t.style.top=l+"px"):utils.setVendor(t,"Transform","translate3d("+o+"px, "+l+"px, 0)"))}),utils.on(window,"mouseup.lgzoom",function(e){a&&(a=!1,utils.removeClass(s.core.outer,"lg-zoom-dragging"),!u||r.x===n.x&&r.y===n.y||(n=s.getDragCords(e,Math.abs(h)),s.touchendZoom(r,n,d,c,h)),u=!1),utils.removeClass(s.core.outer,"lg-grabbing"),utils.addClass(s.core.outer,"lg-grab")})},e.prototype.touchendZoom=function(e,t,o,l,i){var s=this,r=s.core.___slide[s.core.index].querySelector(".lg-img-wrap"),n=s.core.___slide[s.core.index].querySelector(".lg-object"),a=s.core.___slide[s.core.index].querySelector(".lg-img-rotate"),u=-Math.abs(r.getAttribute("data-x"))+(t.x-e.x)*s.getModifier(i,"X",a),d=-Math.abs(r.getAttribute("data-y"))+(t.y-e.y)*s.getModifier(i,"Y",a),c=s.getPossibleDragCords(n,Math.abs(i));(15<Math.abs(t.x-e.x)||15<Math.abs(t.y-e.y))&&(l&&(d<=-c.maxY?d=-c.maxY:d>=-c.minY&&(d=-c.minY)),o&&(u<=-c.maxX?u=-c.maxX:u>=-c.minX&&(u=-c.minX)),l?r.setAttribute("data-y",Math.abs(d)):d=-Math.abs(r.getAttribute("data-y")),o?r.setAttribute("data-x",Math.abs(u)):u=-Math.abs(r.getAttribute("data-x")),s.core.s.useLeftForZoom?(r.style.left=u+"px",r.style.top=d+"px"):utils.setVendor(r,"Transform","translate3d("+u+"px, "+d+"px, 0)"))},e.prototype.destroy=function(){var e=this;utils.off(e.core.el,".lgzoom"),utils.off(window,".lgzoom");for(var t=0;t<e.core.___slide.length;t++)utils.off(e.core.___slide[t],".lgzoom");utils.off(e.core.el,".lgtmzoom"),e.resetZoom(),clearTimeout(e.zoomabletimeout),e.zoomabletimeout=!1},window.lgModules.zoom=e},void 0!==o?i():(i(),l.lgZoom={})},{}]},{},[1])(1)});